{% extends "base.html" %}

{% block title %} Search {% endblock %}

{% block body%}

<form method="POST" enctype="multipart/form-data" class="d-flex" role="search" style="
    height: 40px;
    width: 100%;
    margin-bottom: 10px;
    margin-top: 70px;
    align-items: center;
    justify-content: center;
  ">
  <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" name="query"
    style="width: 50rem" />
  <button class="btn btn-outline-success" type="submit" value="Search">
    Search
  </button>
</form>

<div class="d-flex flex-column justify-content-center">
  <div class="d-flex justify-content-center">
    <div style="display: inline-grid; grid-template-columns: auto auto auto auto">
      {% if results %} {% for book in results %}
      <div class="card" style="width: 18rem; height: 20rem; margin-right: 10px;">
        <div class="card-body">
          <h5 class="card-title">{{book.title}}</h5>
          <p>{{book.author}}</p>
          <br>
          <p> {{ book.shelf.shelf_name }}</p>
          <a href="/shelves/{{ book.shelf_id }}/delete_book/{{ book.id }}" class="btn btn-danger">Remove</a>
        </div>
      </div>
      {% endfor %}
    </div>
    {% elif query %}
    <p>No results found for "{{ query }}"</p>
    {% endif %}
  </div>
  <div class="d-flex justify-content-center mt-4">
    <a class="btn btn-outline-secondary" href="/shelves" style="width: 25rem; margin-top: 57px;">View Shelves</a>
  </div>
</div>

{% endblock %}